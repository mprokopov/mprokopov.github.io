<!DOCTYPE html>
<html>
    <head>
	<meta name="generator" content="Hugo 0.136.2"><title>Maksym Prokopov personal blog</title>
<meta charset="utf-8"/>
<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
<meta content="width=device-width, initial-scale=1.0, user-scalable=no" name="viewport">
<meta name="viewport" content="width=device-width, initial-scale=1">



<script>
 var remark_config = {
   host: 'https://remark.prokopov.me',
   site_id: 'remark',
   no_footer: true
 }
</script>
<script>!function(e,n){for(var o=0;o<e.length;o++){var r=n.createElement("script"),c=".js",d=n.head||n.body;"noModule"in r?(r.type="module",c=".mjs"):r.async=!0,r.defer=!0,r.src=remark_config.host+"/web/"+e[o]+c,d.appendChild(r)}}(remark_config.components||["embed"],document);</script>


<link rel="stylesheet" href="https://prokopov.me/style.min.24166a1e761f51442033103dc963330d3526a4339a58ab46d3fee0c94a62f4a3.css">
<script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
<script type='text' src='https://platform.linkedin.com/badges/js/profile.js' async defer ></script>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                                                      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                                                                                                j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                                                                                                    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
 })(window,document,'script','dataLayer','GTM-WB9KBZ5');</script>

<script defer data-domain="prokopov.me" src="https://analytics.prokopov.me/js/script.js"></script>
</head>
    <body><div class="header">
    <a class="title" href="/"><div id="title">Maksym Prokopov personal blog</div><div id="description">Idea is a something worth sharing</div></a>
</div>
<div class="nav">
    
    <div class="page-item"><a href="https://prokopov.me/pages/reading/">Read</a></div>
    
    <div class="page-item"><a href="https://prokopov.me/pages/projects/">Projects</a></div>
    
    <div class="page-item"><a href="https://prokopov.me/pages/talks/">Talks</a></div>
    
    <div class="page-item"><a href="https://prokopov.me/pages/about/">About</a></div>
    
</div>


<div class="article">
    <h1>
        <a href="/posts/@mprokopov/compare-postgres-speed-within-docker-and-without-be8d87b5b10c/">Compare Postgres speed within Docker and without</a>
    </h1>
    <div class="date">07.09.2017</div>
    <div><p>I decided to compare if there will be significant differences between dockerized and non-dockerized Postgres.</p>
<p>Here is my test environment:</p>
<ul>
<li>rails 5 application with rich test suite, about 628 examples,</li>
<li>macOS Sierra 10.12.6,</li>
<li>Docker 17.06.0-ce-mac19.</li>
</ul>
<p>I use Postgres docker version alpine 9.6 which is 37,7Mb and raw Postgres 9.6 with GUI for Mac which is 379Mb.</p>
<p>Rails run locally, database.yml connects to the localhost postgres with pool 5 using gem pg (0.21.0).</p> </div>
    
    
        <a href="/posts/@mprokopov/compare-postgres-speed-within-docker-and-without-be8d87b5b10c/">Read More…</a>
    
</div>
<div class="border-bottom"></div>

<div class="article">
    <h1>
        <a href="/posts/@mprokopov/gitlab-continuous-delivery-setup-for-clojure-java-with-docker-472320d5aa52/">Gitlab: continuous delivery setup for Clojure/Java with Docker</a>
    </h1>
    <div class="date">05.09.2017</div>
    <div><p>Recently I was doing a <a href="https://github.com/mprokopov/it-service-sse">microservice with Server Sent Events and Pedestal</a> in Clojure and I though it should be a good idea to implement automatic build and deployment to docker registry container. I already have Gitlab installed and started to play around.</p>
<p>Long story short, here my .gitlab-ci.yml which took me a couple of days to figure out what is the “artifact” in Gitlab and how is it suppose to survive between artifact builds and docker builds.</p> </div>
    
    
        <a href="/posts/@mprokopov/gitlab-continuous-delivery-setup-for-clojure-java-with-docker-472320d5aa52/">Read More…</a>
    
</div>
<div class="border-bottom"></div>

<div class="article">
    <h1>
        <a href="/posts/@mprokopov/fully-automated-docker-mysql-database-backup-from-remote-host-bd02e24b5009/">Fully automated docker mysql database backup from remote host</a>
    </h1>
    <div class="date">17.08.2017</div>
    <div><p>The main idea is to have fully automated docker database backup from low end D-Link NAS DNS-320. I believe, that host, which hosts backups should be responsible for doing whole backup process, not the web-servers, which nowadays designed to be ephemeral.</p>
<p>Solution design is following:</p>
<ol>
<li>My backup box will copy backup.sh script to the remote coreos-03 host.</li>
<li>Then remote host copies backup.sh script into database container.</li>
<li>Backup box executes docker command «docker exec itservice_db_1 backup.sh» on coreos-03 host, which, in turn, executes mysqlbackup. SQL dump is captured directly from command output and then gzipped.</li>
<li>Rsnapshot saves folder with gzipped SQL dump and rotates old backup folders as necessary.</li>
</ol>
<p>So, we will need only</p> </div>
    
    
        <a href="/posts/@mprokopov/fully-automated-docker-mysql-database-backup-from-remote-host-bd02e24b5009/">Read More…</a>
    
</div>
<div class="border-bottom"></div>

<div class="article">
    <h1>
        <a href="/posts/@mprokopov/ansible-containers-d89258cdf5de/">Ansible Containers</a>
    </h1>
    <div class="date">15.08.2017</div>
    <div><p>Long story short. Ansible decided to create separate orchestration tool for the managing application containers, which is obviously a mainstream now. And this is straightforward next step after development tools for server state management like Ansible.</p>
<p><a href="https://github.com/ansible/ansible-container" title="https://github.com/ansible/ansible-container"><strong>ansible/ansible-container</strong><br>
_ansible-container - Ansible Container is a tool to build Docker images and orchestrate containers using only Ansible…_github.com</a><a href="https://github.com/ansible/ansible-container"></a></p>
<p>But I was really disappointed with Ansible 2.3, because docker_service module is still broken. I tried all possible combinations of docker, docker-py and docker-compose python modules for ansible on remote host with CoreOS and all of combinations failed with different weird errors like “Dockerfile could not be found” and so on. After all the day trying hard to tackle that issues I gave up and wrote simple “docker-compose up” ansible command :(</p> </div>
    
    
        <a href="/posts/@mprokopov/ansible-containers-d89258cdf5de/">Read More…</a>
    
</div>
<div class="border-bottom"></div>

<div class="article">
    <h1>
        <a href="/posts/2017-08-11_---------------d42877e2368d/">О красоте кода</a>
    </h1>
    <div class="date">11.08.2017</div>
    <div><p>Когда программист программирует, он начинает разбивать код на модули только потому, что имеет ограничение в своем неокортексе на количество одновременных элементов в памяти. А я ведь когда-то писал на ассемблере, и легкой прогулкой это никак нельзя было назвать, в основном из-за простыней однообразного кода, в котором было легко потеряться.</p>
<p>Из этого ограничения появились концепции ООП. Но с ООП тоже беда. Увеличивается количество уровней абстракции. И тогда в большом проекте удержать всю идею в голове становится невозможно. Функционального подхода к разработке это тоже касается, но в меньшей мере. В Clojure, например, гораздо более выразительно и логично можно бить код на куски.</p> </div>
    
    
        <a href="/posts/2017-08-11_---------------d42877e2368d/">Read More…</a>
    
</div>
<div class="border-bottom"></div>

<div class="article">
    <h1>
        <a href="/posts/@mprokopov/deployment-of-clojure-app-to-production-with-docker-9dbffeac6ef5/">Deployment of Clojure app to a production with Docker</a>
    </h1>
    <div class="date">03.08.2017</div>
    <div><p>Clojure deployment to a production itself not a very complicated task, but with the Docker it becomes more flexible solution. You can deploy your app to the Amazon EC2 or even to Amazon EC2 Container Service just in minutes! In this example we have Ring <strong>web server</strong> listening on <strong>3000 port</strong> an some public resources, like bootstrap css and js in resources/public folder, and application-specific settings in resources/settings folder.</p>
<p><strong>Caution:</strong> your Ring web server should be configured to listen on 0.0.0.0 address in order to play nicely with docker.</p> </div>
    
    
        <a href="/posts/@mprokopov/deployment-of-clojure-app-to-production-with-docker-9dbffeac6ef5/">Read More…</a>
    
</div>
<div class="border-bottom"></div>

<div class="article">
    <h1>
        <a href="/2017/07/%D1%87%D1%82%D0%BE-%D0%BF%D0%BE%D1%87%D0%B8%D1%81%D1%82%D0%B8%D1%82%D1%8C-%D0%BD%D0%B0-%D0%B2%D0%B0%D1%88%D0%B5%D0%BC-mac/">Что почистить на вашем Mac?</a>
    </h1>
    <div class="date">28.07.2017</div>
    <div><p>То, что раньше делал прекрасный Daisy Disk, сейчас вполне неплохо выполняет встроенная в Mac OS Sierra утилита.</p>
<img class="aligncenter size-full wp-image-1487" src="/uploads/2017/07/Скриншот-2017-07-28-14.55.06.png" alt="" width="913" height="644" srcset="/uploads/2017/07/Скриншот-2017-07-28-14.55.06.png 913w, /uploads/2017/07/Скриншот-2017-07-28-14.55.06-300x212.png 300w, /uploads/2017/07/Скриншот-2017-07-28-14.55.06-768x542.png 768w" sizes="(max-width: 913px) 100vw, 913px" /> </div>
    
</div>
<div class="border-bottom"></div>

<div class="article">
    <h1>
        <a href="/2017/07/%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0-%D1%84%D1%80%D0%BE%D0%BD%D1%82%D0%B5%D0%BD%D0%B4%D0%B0-%D0%BD%D0%B0-%D0%B2%D0%B5%D0%B1-%D0%BA%D0%B0%D1%82%D0%B8%D1%82%D1%81%D1%8F-%D0%BD/">Разработка фронтенда на веб катится не туда.</a>
    </h1>
    <div class="date">22.07.2017</div>
    <div><blockquote>
<p style="text-align: right;">
  &#171;Спасибо скажем мы Аллаху,<br /> за то, что он наполнил мир глупцами,<br /> Иначе не увидели бы мы мудрецов&#187;
</p>
<p style="text-align: right;">
  Омар Хайям.
</p>
</blockquote>
<p>Потребовалось мне на днях запилить динамический веб на стеке React + Redux. Полез посмотреть, чем нынче пользуется уважаемая общественность. Оказывается, стандартно используют Javascript ES-2015, он же ES6. Чтобы запустить это счастье нужно, следите за руками: туго перевязанная упаковка с npm + nodejs, Webpack, Babel. npm доставит вам различные пакаджи, библиотеки типа react, redux, webpack нужен для динамической сборки и предкомпиляции приложения, babel позволит вам писать код на модных стандартах джаваскрипта не особо заботясь о совместимости с предыдущими браузерами.</p> </div>
    
    
        <a href="/2017/07/%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0-%D1%84%D1%80%D0%BE%D0%BD%D1%82%D0%B5%D0%BD%D0%B4%D0%B0-%D0%BD%D0%B0-%D0%B2%D0%B5%D0%B1-%D0%BA%D0%B0%D1%82%D0%B8%D1%82%D1%81%D1%8F-%D0%BD/">Read More…</a>
    
</div>
<div class="border-bottom"></div>

<div class="article">
    <h1>
        <a href="/posts/2017-07-11_----docker---ruby-on-rails-sprockets-and-precompiled-assets-9686ab933bb7/">Про Docker и Ruby on Rails sprockets and precompiled assets</a>
    </h1>
    <div class="date">11.07.2017</div>
    <div><p>Рельсы идут не тем путем.</p>
<p>По-хорошему монолит на рельсах нужно дробить, а то получается 1С:Бухгалтерия, со всеми включенными галочками по-умолчанию. В данном случае умолчания в рельсах слишком greedy.</p>
<p>Взять вот sprockets. Его задача вообще один раз запуститься, минифицировать css и js, и замолчать навеки. При этом он требует кучу разнообразных зависимостей типа execjs, nodejs или v8 от гугла в качестве движка минификации.</p>
<p>Но что делает фреймворк? Sprockets включают в Gemfile, он грузится вместе с полезным кодом, занимает кучу места, мешается под ногами и заставляет программиста танцевать с бубном вокруг задач связанных с деплоем!</p> </div>
    
    
        <a href="/posts/2017-07-11_----docker---ruby-on-rails-sprockets-and-precompiled-assets-9686ab933bb7/">Read More…</a>
    
</div>
<div class="border-bottom"></div>

<div class="article">
    <h1>
        <a href="/2017/06/%D0%BC%D1%83%D0%B7%D0%B5%D0%B9-%D0%BC%D0%B5%D1%80%D1%81%D0%B5%D0%B4%D0%B5%D1%81-%D0%B1%D0%B5%D0%BD%D1%86-%D0%B2-%D1%88%D1%82%D1%83%D1%82%D1%82%D0%B3%D0%B0%D1%80%D1%82%D0%B5/">Музей Мерседес-Бенц в Штуттгарте</a>
    </h1>
    <div class="date">01.06.2017</div>
    <div><p>Музей Мерседес-Бенц в Штутгарте произвел на меня неизгладимое впечатление. Легко можно потратить на его посещение целый день и даже этого будет мало. Пожалуй, начну с развенчания некоторых мифов.  У нас в сознании Мерседес-Бенц представляется одной торговой маркой, но дело в том, что Мерседес был только одной из марок автомобилей компании Даймлер, а компания Карла Бенца была основным конкурентом Даймлер вплоть до объединения в 1926г. Впрочем, все по порядку.</p>
<img class="aligncenter size-large wp-image-1434" src="/uploads/2017/04/IMG_3384-768x1024.jpg" alt="" width="700" height="933" srcset="/uploads/2017/04/IMG_3384-768x1024.jpg 768w, /uploads/2017/04/IMG_3384-225x300.jpg 225w" sizes="(max-width: 700px) 100vw, 700px" /> </div>
    
    
        <a href="/2017/06/%D0%BC%D1%83%D0%B7%D0%B5%D0%B9-%D0%BC%D0%B5%D1%80%D1%81%D0%B5%D0%B4%D0%B5%D1%81-%D0%B1%D0%B5%D0%BD%D1%86-%D0%B2-%D1%88%D1%82%D1%83%D1%82%D1%82%D0%B3%D0%B0%D1%80%D1%82%D0%B5/">Read More…</a>
    
</div>
<div class="border-bottom"></div>

<div class="pagination">
    
    <div class="pagination__prev">
        <a href="/page/7/" class="pagination__icon">&lt;&lt;</a>
        <a href="/page/7/">Previous page</a>
    </div>
    
    
    <div class="pagination__next">
        <a href="/page/9/">Next page</a>
        <a href="/page/9/" class="pagination__icon">&gt;&gt;</a>
    </div>
    
</div>
<div class="sidebar"><div class="sidebar__visitcard">
    <div class="sidebar__heading">Profile links</div><p></p>
    <div class="textwidget profile__link">
        
        <a href="https://ru-ru.facebook.com/mprokopov" target="_TOP" style="font-family: &quot;lucida grande&quot;,tahoma,verdana,arial,sans-serif; font-size: 18px; font-variant: normal; font-style: normal; font-weight: normal; color: #3B5998; text-decoration: none;" title="Max Prokopov" rel="noopener noreferrer">Max Prokopov</a><br><a href="https://ru-ru.facebook.com/mprokopov" target="_TOP" title="Max Prokopov" rel="noopener noreferrer"><img src="https://badge.facebook.com/badge/564099895.8308.711585450.png" style="border: 0px;"></a>
        
    </div>
    <div class="profile__link">
        <a href="https://twitter.com/mprokopov?ref_src=twsrc%5Etfw" class="twitter-follow-button" data-show-count="false">Follow @mprokopov</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
    </div>
    <div class='LI-profile-badge profile__link' data-version='v1' data-size='medium' data-locale='en_US'
        data-type='horizontal' data-theme='light' data-vanity='max-prokopov'>
        <a class='LI-simple-link' href='https://in.linkedin.com/in/max-prokopov?trk=profile-badge' >
            Maksym Prokopov
        </a>
    </div>
</div>
<div class="sidebar__categories">
    <div class="sidebar__heading">Categories</div>
    <p></p>
    <ul class="sidebar__links sidebar__category">
        
        <li><a href="/categories/ansible/">Ansible</a> (1) </li>
        
        <li><a href="/categories/apache/">Apache</a> (3) </li>
        
        <li><a href="/categories/business/">Business</a> (1) </li>
        
        <li><a href="/categories/clojure/">Clojure</a> (1) </li>
        
        <li><a href="/categories/docker/">Docker</a> (1) </li>
        
        <li><a href="/categories/education/">Education</a> (2) </li>
        
        <li><a href="/categories/emacs/">Emacs</a> (3) </li>
        
        <li><a href="/categories/freebsd/">FreeBSD</a> (8) </li>
        
        <li><a href="/categories/git/">Git</a> (1) </li>
        
        <li><a href="/categories/gtd/">GTD</a> (4) </li>
        
        <li><a href="/categories/iphone/">IPhone</a> (4) </li>
        
        <li><a href="/categories/it-support/">IT Support</a> (1) </li>
        
        <li><a href="/categories/kubernetes/">Kubernetes</a> (1) </li>
        
        <li><a href="/categories/lifehack/">Lifehack</a> (24) </li>
        
        <li><a href="/categories/links/">Links</a> (6) </li>
        
        <li><a href="/categories/linux/">Linux</a> (1) </li>
        
        <li><a href="/categories/macos/">Macos</a> (2) </li>
        
        <li><a href="/categories/news/">News</a> (1) </li>
        
        <li><a href="/categories/org-mode/">Org-Mode</a> (1) </li>
        
        <li><a href="/categories/philosophy/">Philosophy</a> (1) </li>
        
        <li><a href="/categories/philosophy-smalltalk/">Philosophy, Smalltalk</a> (1) </li>
        
        <li><a href="/categories/rails/">Rails</a> (2) </li>
        
        <li><a href="/categories/ruby/">Ruby</a> (2) </li>
        
        <li><a href="/categories/sip/">Sip</a> (1) </li>
        
        <li><a href="/categories/til/">Til</a> (1) </li>
        
        <li><a href="/categories/tips-and-tricks/">Tips and Tricks</a> (1) </li>
        
        <li><a href="/categories/vmware/">Vmware</a> (2) </li>
        
        <li><a href="/categories/windows/">Windows</a> (4) </li>
        
        <li><a href="/categories/%D0%B0%D0%B4%D0%BC%D0%B8%D0%BD%D0%B8%D1%81%D1%82%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5/">Администрирование</a> (32) </li>
        
        <li><a href="/categories/%D0%B1%D0%B5%D0%B7-%D0%BA%D0%B0%D1%82%D0%B5%D0%B3%D0%BE%D1%80%D0%B8%D0%B8/">Без Категории</a> (4) </li>
        
        <li><a href="/categories/%D0%B1%D1%8B%D1%82%D0%BE%D0%B2%D0%B0%D1%8F-%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D0%BA%D0%B0/">Бытовая Техника</a> (3) </li>
        
        <li><a href="/categories/%D0%B2%D0%B5%D0%B1-%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0/">Веб-Разработка</a> (10) </li>
        
        <li><a href="/categories/%D0%B2%D0%B8%D1%80%D1%82%D1%83%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F/">Виртуализация</a> (1) </li>
        
        <li><a href="/categories/%D0%B3%D0%B0%D0%B4%D0%B6%D0%B5%D1%82%D1%8B/">Гаджеты</a> (2) </li>
        
        <li><a href="/categories/%D0%B6%D0%B5%D0%BB%D0%B5%D0%B7%D0%BE/">Железо</a> (3) </li>
        
        <li><a href="/categories/%D0%B7%D0%B0-%D0%B6%D0%B8%D0%B7%D0%BD%D1%8C/">За Жизнь</a> (117) </li>
        
        <li><a href="/categories/%D0%B7%D0%B4%D0%BE%D1%80%D0%BE%D0%B2%D1%8C%D0%B5/">Здоровье</a> (4) </li>
        
        <li><a href="/categories/%D0%BC%D0%B0%D0%BA/">Мак</a> (43) </li>
        
        <li><a href="/categories/%D0%BC%D0%B0%D1%80%D0%BA%D0%B5%D1%82%D0%B8%D0%BD%D0%B3/">Маркетинг</a> (2) </li>
        
        <li><a href="/categories/%D1%81%D0%BE%D1%84%D1%82/">Софт</a> (24) </li>
        
        <li><a href="/categories/%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5/">Управление</a> (1) </li>
        
        <li><a href="/categories/%D1%8E%D0%BC%D0%BE%D1%80/">Юмор</a> (6) </li>
        
    </ul>
</div>
<div class="sidebar__friends">
    <div class="sidebar__heading">Friends</div><p></p>
	<ul class="sidebar__links">
      
      <li><a href="https://it-premium.com.ua" title="IT-Premium лучший аутсорсинг в Украине" >IT-Premium аутсорсинг от профессионалов</a></li>

      
      <li><a href="http://nexusonrails.blogspot.com/" title="Мой блог на blogger.com о Ruby on Rails" >Nexus on Rails</a></li>

      
      <li><a href="https://blog.it-premium.com.ua" title="Блог Максима Прокопова про Docker, Xen и CoreOS и всякое такое" rel="friend">Maksym Prokopov about Docker, Xen и CoreOS</a></li>

      
      <li><a href="https://nexus.org.ua" title="Сайт об IT технологиях" >Мой хардкорный убер сайт 2005 года Nexus Notes</a></li>

      
      <li><a href="https://condom.org.ua" title="Контрацепция в деталях" >Проект о контрацепции</a></li>

      
      <li><a href="https://it-premium.livejournal.com/" title="" rel="friend co-worker neighbor">IT-Premium company blog</a></li>

      
	</ul>
</div>
</div>



<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WB9KBZ5"
                  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

</body>
</html>
