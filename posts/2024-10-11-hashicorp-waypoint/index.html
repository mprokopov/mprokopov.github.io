<!DOCTYPE html>
<html>
    <head><title>Hashicorp Waypoint - Maksym Prokopov personal blog</title>
<meta charset="utf-8"/>
<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
<meta content="width=device-width, initial-scale=1.0, user-scalable=no" name="viewport">
<meta name="viewport" content="width=device-width, initial-scale=1">



<script>
 var remark_config = {
   host: 'https://remark.prokopov.me',
   site_id: 'remark',
   no_footer: true
 }
</script>
<script>!function(e,n){for(var o=0;o<e.length;o++){var r=n.createElement("script"),c=".js",d=n.head||n.body;"noModule"in r?(r.type="module",c=".mjs"):r.async=!0,r.defer=!0,r.src=remark_config.host+"/web/"+e[o]+c,d.appendChild(r)}}(remark_config.components||["embed"],document);</script>


<link rel="stylesheet" href="https://prokopov.me/style.min.2c73c2cce25cfc0bb98b66e51cb2e60843f676f1f0fdc2952591b9e703466039.css">
<script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
<script type='text' src='https://platform.linkedin.com/badges/js/profile.js' async defer ></script>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                                                      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                                                                                                j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                                                                                                    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
 })(window,document,'script','dataLayer','GTM-WB9KBZ5');</script>

<script defer data-domain="prokopov.me" src="https://analytics.prokopov.me/js/script.js"></script>
</head>
    <body><div class="header">
    <a class="title" href="/"><div id="title">Maksym Prokopov personal blog</div><div id="description">Idea is a something worth sharing</div></a>
</div>
<div class="nav">
    
    <div class="page-item"><a href="https://prokopov.me/pages/projects/">Projects</a></div>
    
    <div class="page-item"><a href="https://prokopov.me/pages/talks/">Talks</a></div>
    
    <div class="page-item"><a href="https://prokopov.me/pages/about/">About</a></div>
    
</div>

<div class="article">
    <h1><a href="https://prokopov.me/posts/2024-10-11-hashicorp-waypoint/">Hashicorp Waypoint</a></h1>
    <div class="date">11.10.2024</div>
    <div class="reading-time">Reading time: 3 min.</div>
    <div>
<p>Waypoint is a tool by Hashicorp to manage builds, artifacts and deployments.</p>
<p>
It has a CLI interface and also a nice UI and uses HCL instead of YAML for configuration and templating.</p>
<div id="outline-container-headline-1" class="outline-2">
<h2 id="headline-1">
Introduction
</h2>
<div id="outline-text-headline-1" class="outline-text-2">
<p>It might not be needed if you have something like GitHub Actions and may felt redundant, but actually it&#39;s a kind of missing piece for having a good UI for CI/CD pipelines, as it gives a handy tool for a developer to streamline build/deploy/release process.</p>
<p>
I&#39;m personally a big fan of Hashicorp products, like Terraform, Consul, Vault, Vagrant, Nomad and Packer. Not a big surprise, that they decided to tackle the build process as well and create a smooth developer experience by wrapping everything from build to release into one handy utility. The whole idea is close to the GitHub CLI with private GitHub Runner on your machine + ArgoCD CLI, all in one package with nice UI.</p>
</div>
</div>
<div id="outline-container-headline-2" class="outline-2">
<h2 id="headline-2">
Prerequisites
</h2>
<div id="outline-text-headline-2" class="outline-text-2">
<p>You certainly will need a waypoint.hcl to start.</p>
<div class="src src-shell">
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>waypoint init</span></span></code></pre></div>
</div>
</div>
</div>
<div id="outline-container-headline-3" class="outline-2">
<h2 id="headline-3">
Builds and Articats
</h2>
<div id="outline-text-headline-3" class="outline-text-2">
<p>I.e. you can see a list of artifacts and trigger a build process of the new artifact right on your machine. The artifact is pushed to the artifact storage after the build is complete. It&#39;s typically some sort of docker registry, AWS ECR is also a supported option.</p>
<p>
Starting a build is as easy as executing</p>
<div class="src src-shell">
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>waypoint build</span></span></code></pre></div>
</div>
<p>
<a href="Hashicorp Waypoint Build process"><img src="waypoint-build.png" alt="waypoint-build.png" /></a></p>
<p>
After the build is complete, you can see one in the list of the builds</p>
<p>
<img src="waypoint-build-ui.png" alt="waypoint-build-ui.png" title="waypoint-build-ui.png" /></p>
</div>
</div>
<div id="outline-container-headline-4" class="outline-2">
<h2 id="headline-4">
Deployment
</h2>
<div id="outline-text-headline-4" class="outline-text-2">
<p>The deployment is an act of bringing your artifact to the target environment.
It&#39;s run by the same simple command.</p>
<div class="src src-shell">
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>waypoint deploy</span></span></code></pre></div>
</div>
<p>
<img src="waypoint-deploy.png" alt="waypoint-deploy.png" title="waypoint-deploy.png" /></p>
</div>
</div>
<div id="outline-container-headline-5" class="outline-2">
<h2 id="headline-5">
Release
</h2>
<div id="outline-text-headline-5" class="outline-text-2">
<p>The release for a website means switching from the old version to the new version of the deployed artifact and it can be done in a different ways. Typically switching to the new artifact is done with the help of the change in the load balancer configuration, that simply starts routing the traffic to the newly deployed artifact.</p>
<p>
Sometimes it&#39;s a part of the deployment process, sometimes it&#39;s a part of the promotion step.</p>
<div class="src src-shell">
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>waypoint release</span></span></code></pre></div>
</div>
<p>
<img src="waypoint-release.png" alt="waypoint-release.png" title="waypoint-release.png" /></p>
</div>
</div>
<div id="outline-container-headline-6" class="outline-2">
<h2 id="headline-6">
Observe
</h2>
<div id="outline-text-headline-6" class="outline-text-2">
<p>The UI give a nice ability to observe resources (running artifacts on the target environment), inspect logs and connect to the container shell to interact with the application.</p>
<p>
<img src="waypoint-project.png" alt="waypoint-project.png" title="waypoint-project.png" /></p>
</div>
</div>
<div id="outline-container-headline-7" class="outline-2">
<h2 id="headline-7">
Summary
</h2>
<div id="outline-text-headline-7" class="outline-text-2">
<p>This would look like a missing piece of any software release lifecycle with the good CLI interface as well as the UI. Though, I found the deployment of the server part to the Nomad cluster quite challenging.</p>
</div>
</div>
<div id="outline-container-headline-8" class="outline-2">
<h2 id="headline-8">
P.S.
</h2>
<div id="outline-text-headline-8" class="outline-text-2">
<p>Unfortunately, after the aquisition of Hashicorp by IBM the community version of this wonderful product has been killed and only cloud one in HCP is available, but now it&#39;s a very different product.</p>
<p>
RIP Waypoint on Jan 8, 2024
<a href="https://github.com/hashicorp/waypoint/">https://github.com/hashicorp/waypoint/</a></p>
</div>
</div>
</div>
    <div id="remark42"></div>

</div>



<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WB9KBZ5"
                  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

</body>
</html>
