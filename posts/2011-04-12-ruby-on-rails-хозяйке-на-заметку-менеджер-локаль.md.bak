---
title: 'Ruby on Rails хозяйке на заметку: менеджер локальных сайтов Pow'
author: Max Prokopov
type: post
date: 2011-04-12T10:56:21+00:00
url: /2011/04/ruby-on-rails-хозяйке-на-заметку-менеджер-локаль/
robotsmeta:
  - index,follow
views:
  - 70
categories:
  - rails
  - веб-разработка
  - Мак

---
Чрезвычайно удобной оказалась возможность работы с несколькими сайтами на базе RoR (по факту на Rack), которую предоставляет утилита [Pow][1].

Вкратце, если у вас достаточно много сайтов разработке, утилита предоставляет хук в DNS зону dev и позволяет обращаться к вашим сайтам по url вида http://myapp.dev , http://myapp2.dev, а также добавляет правило в фаерволе, которое заворачивает обращения к self с порта 80 на внутренний порт утилиты.

Сам Pow состоит из двух частей &#8212; DNS responder и проксирующего web server. Реализовано все счастье на Node.js.

Очень интересна реализация зоны .dev, в mac os в каталоге /etc/resolver/ добавляется файл dev такого вида:

<pre lang="php">nameserver 127.0.0.1 port 20560</pre>

что перенаправляет все обращения xxx.dev на соответствующее приложение

 

Утилита поддерживает работу с RVM, что позволяет упражняться с различными версиями руби.

Для поддержки в rails 2 через Pow можно воспользоваться таким хаком, создаем в корне приложениея config.ru, где прописываем

Деинсталляция также проста:

<pre lang="php">curl get.pow.cx/uninstall.sh | sh
</pre>

<pre lang="php"># Rails.root/config.ru
require "./config/environment"
run ActionController::Dispatcher.new</pre>

Утилита что-то наподобие [denwer][2] для php.

 

 [1]: http://pow.cx/
 [2]: http://www.denwer.ru/