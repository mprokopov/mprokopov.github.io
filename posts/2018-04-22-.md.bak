---
title: Про тесты, Rails и Rspec
author: Max Prokopov
type: post
date: -001-11-30T00:00:00+00:00
draft: true
url: /?p=1527
robotsmeta:
  - index,follow
categories:
  - за жизнь

---
Почему Minitest лучше, чем RSpec?

Вот к какому интересному выводу я пришел после почти 8 лет использования Rspec.

Rspec удобен семантически, все эти subject, let, expect блоки. Но вы точно уверены, что понимаете, что за этим стоит? Почему вас и меня привлекает весь этот DSL и его кажущаяся простота? Он заставляет вас забыть что все есть объект, тот же Rspec сильно грешил манки-патчингом до 3й версии. its(:field) be_truthy. WTF? Что стоит за этим its? Поэтому появляются рекомендации, используйте expect, не используйте shoulda-матчеры.

Забавный факт, но автор RSpec перешел заниматься разработкой на Clojure.

Или вот FactoryGirl. Синтаксический сахар для моков. Вы действительно думаете, что он вам нужен? Less is more!
  
Используйте Minitest::Mock и будет вам счастье.

В Small Talk вообще интересная система обработки параметров, методы принимающие разные параметры по-сути это два разных метода, и это есть хорошо!

Там же тестирование выполняется при помощи assert_equal или просто assert. Все!